<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Vagrant tools</title>
<!-- 2014-12-02 Tue 00:24 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Antoine R. Dumont" />
<meta  name="description" content="Howto about vagrant tools"
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="./other/style.css" type="text/css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Vagrant tools</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Pre-requisites</a>
<ul>
<li><a href="#sec-1-1">No details</a></li>
<li><a href="#sec-1-2">Details</a>
<ul>
<li><a href="#sec-1-2-1">ruby (1.9)</a></li>
<li><a href="#sec-1-2-2">virtualbox (4.1)</a></li>
<li><a href="#sec-1-2-3">vagrant (1.0.5)</a></li>
<li><a href="#sec-1-2-4">vagrant-snap (0.10)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">Your first virtual machine (vm)</a>
<ul>
<li><a href="#sec-2-1">Setup</a>
<ul>
<li><a href="#sec-2-1-1">Default</a></li>
<li><a href="#sec-2-1-2">Specific setup</a></li>
</ul>
</li>
<li><a href="#sec-2-2">Boot</a></li>
<li><a href="#sec-2-3">Connect</a></li>
<li><a href="#sec-2-4">Action</a></li>
<li><a href="#sec-2-5">Status</a></li>
<li><a href="#sec-2-6">Halt</a></li>
</ul>
</li>
<li><a href="#sec-3">A cool functionality: Snapshot</a>
<ul>
<li><a href="#sec-3-1">take</a></li>
<li><a href="#sec-3-2">list</a></li>
<li><a href="#sec-3-3">back to the <del>future</del> past</a>
<ul>
<li><a href="#sec-3-3-1">Suspend (optional)</a></li>
<li><a href="#sec-3-3-2">Go back</a></li>
</ul>
</li>
<li><a href="#sec-3-4">Cleaning Snapshot</a></li>
</ul>
</li>
<li><a href="#sec-4">Conclusion</a></li>
</ul>
</div>
</div>
<p>
In this post, I will describe how to install/setup the <a href="http://vagrantup.com/">vagrant</a> stack I use in my every day work to ease my developments.
<a href="http://vagrantup.com/v1/docs/getting-started/why.html">For some hints as to why i use vagrant :D</a>.
</p>

<p>
As usual, my environment is a <a href="http://www.debian.org/misc/children-distros">debian-based environment</a>.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Pre-requisites</h2>
<div class="outline-text-2" id="text-1">
<p>
I detail the versions for which I know the combo works!
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">No details</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">

<pre class="src src-sh">sudo aptitude install -y ruby1.9.3 rubygems virtualbox &amp;&amp; \
sudo gem install vagrant vagrant-snap virtualbox
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Details</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1">ruby (1.9)</h4>
<div class="outline-text-4" id="text-1-2-1">
<div class="org-src-container">

<pre class="src src-sh">sudo aptitude install ruby1.9.3 rubygems
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><a href="https://www.virtualbox.org/">virtualbox</a> (4.1)</h4>
<div class="outline-text-4" id="text-1-2-2">
<div class="org-src-container">

<pre class="src src-sh">sudo aptitude install virtualbox
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><a href="http://vagrantup.com/">vagrant</a> (1.0.5)</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
<a href="//Vagrantup.Com/">Vagrant</a> permits to ease the use of <a href="https://www.virtualbox.org/">virtualbox</a> vm from the command line interface.
</p>

<div class="org-src-container">

<pre class="src src-sh">sudo gem install vagrant
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-4" class="outline-4">
<h4 id="sec-1-2-4"><a href="https://github.com/t9md/vagrant-snap">vagrant-snap</a> (0.10)</h4>
<div class="outline-text-4" id="text-1-2-4">
<p>
<a href="https://github.com/t9md/vagrant-snap">Vagrant-snap</a> permits to ease the hot snapshoting of your vm.
</p>

<div class="org-src-container">

<pre class="src src-sh">sudo gem install vagrant-snap virtualbox
</pre>
</div>

<p>
<b>Note</b>
You need to add the <a href="https://www.virtualbox.org/">virtualbox</a> gem dependency because of a <a href="https://github.com/t9md/vagrant-snap/issues/9">vagrant/vagrant-snap dependency issue</a>.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Your first virtual machine (vm)</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Setup</h3>
<div class="outline-text-3" id="text-2-1">
</div><div id="outline-container-sec-2-1-1" class="outline-4">
<h4 id="sec-2-1-1">Default</h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">

<pre class="src src-sh">cd /your/vm/folder &amp;&amp; vagrant init
</pre>
</div>

<p>
This will generate a template <b>Vagrantfile</b> with a minimal default content (i removed comments):
</p>

<div class="org-src-container">

<pre class="src src-ruby">Vagrant::Config.run do |config|
  config.vm.box = "base"
end
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-1-2" class="outline-4">
<h4 id="sec-2-1-2">Specific setup</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
Now edit it to suit your need.
</p>

<p>
For example, I frequently use something along those lines :
</p>
<ul class="org-ul">
<li>call the vm <b>lucid64</b>
</li>
<li>the iso is based on the template box <a href="http://files.vagrantup.com/lucid64.box">http://files.vagrantup.com/lucid64.box</a>
</li>
<li>the vm has <b>512Mo</b> of RAM
</li>
<li>assign one ip <b>192.168.33.2</b>
</li>
<li>assign a hostname to be <b>ubuntu.local.com</b>
</li>
<li>as soon as the vm is up, i want it to run the script <code>./scripts/bootstrap.sh</code>
</li>
<li>and i want to make a mount point on some folder, here <code>~vagrant/bin/</code> will be mounted on the host's folder <code>./scripts</code>
</li>
</ul>

<div class="org-src-container">

<pre class="src src-ruby">Vagrant::Config.run do |config|
    config.vm.box = "lucid64"
    config.vm.box_url = "http://files.vagrantup.com/lucid64.box"
    config.vm.customize ["modifyvm", :id,  "--natdnshostresolver1", "on", "--memory", 512]
    config.vm.network :hostonly, "192.168.33.2"
    config.vm.host_name = "ubuntu.local.com"
    config.vm.provision :shell, :path =&gt; "./scripts/bootstrap.sh"
    config.vm.share_folder "v-data-1", "/home/vagrant/bin", "./scripts"
end
</pre>
</div>

<p>
<b>Note</b>
</p>
<ul class="org-ul">
<li><a href="http://www.vagrantbox.es/">find some vagrant templates</a>.
</li>
<li>You are not limited to one vm.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Boot</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Run this command:
</p>
<div class="org-src-container">

<pre class="src src-sh">vagrant up
</pre>
</div>

<p>
<b>Note</b>
The first time around, if you do not have locally the <b>lucid64</b> vm, this will download it for you.
</p>

<p>
Then, this will boot the vm respecting the setup you provided in the <b>Vagrantfile</b>.
</p>

<p>
Possible output:
</p>
<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(0.36,) 23:03:09 ~/repo/perso/puppet-sync (master) $ v up vm1
[vm1] VM already created. Booting if it's not already running...
[vm1] Clearing any previously set forwarded ports...
[vm1] Forwarding ports...
[vm1] -- 22 =&gt; 2222 (adapter 1)
[vm1] Creating shared folders metadata...
[vm1] Clearing any previously set network interfaces...
[vm1] Preparing network interfaces based on configuration...
[vm1] Running any VM customizations...
[vm1] Booting VM...
[vm1] Waiting for VM to boot. This can take a few minutes.
[vm1] VM booted and ready for use!
[vm1] Configuring and enabling network interfaces...
[vm1] Setting host name...
[vm1] Mounting shared folders...
[vm1] -- v-root: /vagrant
[vm1] -- v-data-2: /root/bin
[vm1] -- v-data-3: /home/vagrant/bin
[vm1] -- v-data-1: /etc/puppet-mount/
[vm1] -- v-data-4: /usr/local/bin/enc
[vm1] Running provisioner: Vagrant::Provisioners::Shell...
stdin: is not a tty
+ whoami
root
+ '[' '!' -f ./puppetlabs-release-precise.deb ']'
+ grep 'export TERM' /root/.bashrc
export TERM=xterm
+ '[' '!' 0 = 0 ']'
</pre>
</div>

<p>
<b>Note</b>
</p>
<ul class="org-ul">
<li><code>v</code> stands for <code>vagrant</code> (it's a personal alias)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Connect</h3>
<div class="outline-text-3" id="text-2-3">
<p>
As soon as the vm is up, you get back the prompt.
It is now time to connect to it:
</p>
<div class="org-src-container">

<pre class="src src-sh">vagrant ssh
</pre>
</div>

<p>
Possible output:
</p>
<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(1.09,) 23:04:38 (7) ~/repo/perso/puppet-sync (master) $ v ssh vm1
Welcome to Ubuntu 12.04 LTS (GNU/Linux 3.2.0-23-generic-pae i686)

 * Documentation:  https://help.ubuntu.com/
Welcome to your Vagrant-built virtual machine.
Last login: Sun Dec 16 13:22:45 2012 from 10.0.2.2
vagrant@puppet:~$
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Action</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Once you're connected, you can do whatever you want with your vm (even crash it!).
</p>

<p>
Imagine:
</p>
<ul class="org-ul">
<li>one vm with your puppet master (to serve the install of your agent)
</li>
<li>another vm with a puppet agent (to check that the modules you develop are ok)
</li>
<li>one vm with the application you're developing (plugged with the source code on your host machine&#x2026;)
</li>
<li>another one with your back end
</li>
<li>etc&#x2026;
</li>
</ul>

<p>
To sum up, the sky is the limit (at least, the limit is with your host machine's ram)
</p>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Status</h3>
<div class="outline-text-3" id="text-2-5">
<p>
You can check at any time the status of your vms.
</p>

<div class="org-src-container">

<pre class="src src-sh">vagrant status
</pre>
</div>

<p>
Possible output:
</p>
<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(1.13,) 23:07:47 ~/repo/perso/puppet-sync (master) $ v status
Current VM states:

vm1                      running
vm2                      poweroff

This environment represents multiple VMs. The VMs are all listed
above with their current state. For more information about a specific
VM, run `vagrant status NAME`.
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6">Halt</h3>
<div class="outline-text-3" id="text-2-6">
<p>
Once you want to halt the vm because you're done doing what you want.
First, disconnect from the vm (<b>C-d</b> in an empty bash prompt or <b>exit</b> or <b>logout</b>).
</p>

<div class="org-src-container">

<pre class="src src-sh">vagrant@puppet:~$ logout
Connection to 127.0.0.1 closed.
tony@dagobah(1.23,) 23:06:07 ~/repo/perso/puppet-sync (master) $
</pre>
</div>

<p>
Now, you can stop the vm:
</p>
<div class="org-src-container">

<pre class="src src-sh">vagrant halt
</pre>
</div>

<p>
Possible output:
</p>
<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(1.15,) 23:08:50 (130) ~/repo/perso/puppet-sync (master) $ v halt vm1
[vm1] Attempting graceful shutdown of VM...
tony@dagobah(1.34,) 23:09:03 ~/repo/perso/puppet-sync (master) $
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">A cool functionality: Snapshot</h2>
<div class="outline-text-2" id="text-3">
<p>
The utility of the snapshot must not be under-estimated.
This can save you plenty of time (of course, you need to take the time to make some at first).
You can see this as an equivalent to <a href="http://git-scm.com/">git</a> for your vms.
</p>

<p>
This permits you to go back at a precise snapshot.
For example, to redo a failed step by short-circuiting successful steps that you want to skip.
</p>

<p>
For this, we will use <a href="https://github.com/t9md/vagrant-snap">vagrant-snap</a>.
</p>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">take</h3>
<div class="outline-text-3" id="text-3-1">
<p>
To take one snapshot for the vm1:
</p>

<div class="org-src-container">

<pre class="src src-sh">vagrant snap take vm1 -n $TAG_YOU_WANT -d $DESCRIPTION_YOU_WANT
</pre>
</div>

<p>
<b>Note</b>
</p>
<ul class="org-ul">
<li>if no name is provided for the vm, all the vms will be snapshoted
</li>
<li>the description (-d) is optional but recommended.
</li>
<li>Did I mention that the snapshot can be taken when the vm is running?! Fun, ain't it!!!
</li>
</ul>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(1.44,) 23:15:51 ~/repo/perso/puppet-sync (master) $ v snap take -n master-ready-for-test -d "master up and ready for testing"
[vm1]
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
[vm2]
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">list</h3>
<div class="outline-text-3" id="text-3-2">
<p>
List all your snapshots for your vms.
</p>

<div class="org-src-container">

<pre class="src src-sh">vagrant snap list
</pre>
</div>

<p>
Here is a possible output with 2 vms:
</p>

<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(1.07,) 23:16:29 ~/repo/perso/puppet-sync (master) $ v snap list
[vm1]
 master-ready [ 8 days ] puppet master up and ready
    `-- master-ready-for-test [ 43 seconds ] master up and ready for testing
[vm2]
 agent-ready [ 8 days ] puppet agent up and ready
    `-- master-ready-for-test [ 41 seconds ] master up and ready for testing
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">back to the <del>future</del> past</h3>
<div class="outline-text-3" id="text-3-3">
<p>
If you take snapshots, you will have eventually want to restore some:
</p>
</div>

<div id="outline-container-sec-3-3-1" class="outline-4">
<h4 id="sec-3-3-1">Suspend (optional)</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
First, you may need to suspend the vm(s) <code>$VM_NAME</code>:
</p>
<div class="org-src-container">

<pre class="src src-sh">vagrant $VM_NAME suspend
</pre>
</div>



<p>
Possible output:
</p>
<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(0.98,) 23:11:05 ~/repo/perso/puppet-sync (master) $ v suspend vm1
[vm1] Saving VM state and suspending execution...
tony@dagobah(0.76,) 23:11:50 (130) ~/repo/perso/puppet-sync (master) $ v status
Current VM states:

vm1                      saved
vm2                      poweroff

This environment represents multiple VMs. The VMs are all listed
above with their current state. For more information about a specific
VM, run `vagrant status NAME`.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-2" class="outline-4">
<h4 id="sec-3-3-2">Go back</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
Then you can go back to the <code>$TAG_YOU_WANT</code>:
</p>
<div class="org-src-container">

<pre class="src src-sh">vagrant snap go $TAG_YOU_WANT $VM_NAME
</pre>
</div>

<p>
<b>Note</b>
</p>
<ul class="org-ul">
<li><code>$VM_NAME</code> is optional.
</li>
<li>If you do not give any name, all your vms will be wired up to the tag <code>$TAG_YOU_WANT</code>.
</li>
</ul>

<p>
For example:
</p>

<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(0.35,) 23:20:05 ~/repo/perso/puppet-sync (master) $ v snap go master-ready-for-test vm1
[vm1]
VBoxManage: error: Cannot power down a saved virtual machine
VBoxManage: error: Details: code VBOX_E_INVALID_VM_STATE (0x80bb0002), component Console, interface IConsole, callee nsISupports
Context: "PowerDown(progress.asOutParam())" at line 168 of file VBoxManageControlVM.cpp
Restoring snapshot 9e8f5514-5745-4abb-925f-a2e38bbf9200
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
Waiting for VM "aa8c95dc-571e-4cb2-ae4a-3c57f4c2db8c" to power on...
VM "aa8c95dc-571e-4cb2-ae4a-3c57f4c2db8c" has been successfully started.
</pre>
</div>

<p>
<b>Note</b>
The error messages are normals and may vary according to the state of your vm(s).
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">Cleaning Snapshot</h3>
<div class="outline-text-3" id="text-3-4">
<p>
You can delete snapshots once you do not need them anymore.
</p>

<div class="org-src-container">

<pre class="src src-sh">vagrant snap delete $VM_SNAPSHOT
</pre>
</div>

<p>
This may take some time. You can check this via the <code>status</code> call:
</p>
<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(2.82,) 23:27:44 ~/repo/perso/puppet-sync (master) $ v status
Current VM states:

vm1                      deletingsnapshotlive
vm2                      poweroff

This environment represents multiple VMs. The VMs are all listed
above with their current state. For more information about a specific
VM, run `vagrant status NAME`.
</pre>
</div>

<p>
Possible output:
</p>
<div class="org-src-container">

<pre class="src src-sh">tony@dagobah(0.47,) 23:23:19 ~/repo/perso/puppet-sync (master) $ v snap delete master-ready-for-test
[vm1]
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
[vm2]
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Conclusion</h2>
<div class="outline-text-2" id="text-4">
<p>
With minor effort from your part, the <span class="underline">Vagrant stack</span> is a great way to empower you for your every day use.
Use it, you won't regret it!
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: <span class="timestamp-wrapper"><span class="timestamp">[2012-12-24 Mon 21:16]</span></span></p>
<p class="author">Author: Antoine R. Dumont</p>
<p class="date">Created: 2014-12-02 Tue 00:24</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.4.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
