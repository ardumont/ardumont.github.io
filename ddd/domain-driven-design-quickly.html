<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Domain Driven Design Quickly</title>
<!-- 2014-12-02 Tue 00:24 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Antoine R. Dumont" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="./other/style.css" type="text/css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Domain Driven Design Quickly</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Ubiquitous language</a></li>
<li><a href="#sec-2">Layer architecture - Presentation, Application, Domain, Infrastructure</a>
<ul>
<li><a href="#sec-2-1">Entities (identity)</a></li>
<li><a href="#sec-2-2">Value objects (no identity)</a></li>
<li><a href="#sec-2-3">Services</a></li>
<li><a href="#sec-2-4">Modules</a></li>
<li><a href="#sec-2-5">Aggregates</a>
<ul>
<li><a href="#sec-2-5-1">Properties</a></li>
<li><a href="#sec-2-5-2">Definition</a></li>
</ul>
</li>
<li><a href="#sec-2-6">Factories</a>
<ul>
<li><a href="#sec-2-6-1">Factory method</a></li>
<li><a href="#sec-2-6-2">Abstract factory</a></li>
<li><a href="#sec-2-6-3">Constructor</a></li>
</ul>
</li>
<li><a href="#sec-2-7">Repositories</a></li>
</ul>
</li>
<li><a href="#sec-3">Refactoring</a></li>
<li><a href="#sec-4">Preserving model integrity</a>
<ul>
<li><a href="#sec-4-1">Bounded context</a></li>
<li><a href="#sec-4-2">Continuous integration</a>
<ul>
<li><a href="#sec-4-2-1">Customer/supplier</a></li>
<li><a href="#sec-4-2-2">Conformist</a></li>
<li><a href="#sec-4-2-3">Anticorruption layer</a></li>
<li><a href="#sec-4-2-4">Separate ways</a></li>
<li><a href="#sec-4-2-5">Open Host service</a></li>
<li><a href="#sec-4-2-6">distillation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
source: <a href="http://www.infoq.com/resource/minibooks/domain-driven-design-quickly/en/pdf/DomainDrivenDesignQuicklyOnline.pdf">http://www.infoq.com/resource/minibooks/domain-driven-design-quickly/en/pdf/DomainDrivenDesignQuicklyOnline.pdf</a>
</p>

<p>
Most of it is due to OOP!
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Ubiquitous language</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Represent the domain model
</li>
<li>One-to-one mapping from the domain language and the technical language to represent an understandable model for everyone involved
</li>
<li>Need to be crafted with the domain expert and the developers
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Layer architecture - Presentation, Application, Domain, Infrastructure</h2>
<div class="outline-text-2" id="text-2">
<p>
Each layer must be dependent of only the layer below and no other.
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Entities (identity)</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Domain object
</li>
<li>possible internal state
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Value objects (no identity)</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>immutable
</li>
<li>stateless
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Services</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>Verb/Action
</li>
<li>Important behaviour of the domain which is cross-domain to many entities.
</li>
<li>No internal state
</li>
<li>encapsulate a concept
</li>
<li>Act as interface which provide operations
</li>
<li>permits a low degree of coupling between objects
</li>

<li>3 characteristics, operation performed by the service:
<ul class="org-ul">
<li>refers to a domain concept which does not naturally belong to an entity or Value object
</li>
<li>refers to other objects of the domain
</li>
<li>is stateless
</li>
</ul>
</li>
<li>Service can belong to:
<ul class="org-ul">
<li>domain layer: if the operation is about domain objects
</li>
<li>application layer
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Modules</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li>used as a method of organizing related concepts and tasks
</li>
<li>to reduce complexity
</li>
<li>understand relations between modules then understand the details inside the module
</li>
<li>code quality
</li>
<li>group highly related classes to provide maximum cohesion
</li>
<li>communication cohesion: parts of the module operate on the same data
</li>
<li>functional cohesion: all parts of the module work together to perform a well-defined task
</li>
<li>should have well-defined interfaces which other module consume (to reduce the coupling)
</li>
<li>Name of module must be part of the Ubiquitous language
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Aggregates</h3>
<div class="outline-text-3" id="text-2-5">
</div><div id="outline-container-sec-2-5-1" class="outline-4">
<h4 id="sec-2-5-1">Properties</h4>
<div class="outline-text-4" id="text-2-5-1">
<ul class="org-ul">
<li>used to define object ownership and boundaries
</li>
<li>deal with relations between objects
<ul class="org-ul">
<li>pays off to reduce or remove relations from the model
</li>
<li>one-to-one
</li>
<li>one-to-many (one object -&gt; One collection if possible)
</li>
<li>many-to-many (if bidirectional is optional, make it unidirectional, it simplifies the model)
</li>
</ul>
</li>
<li>enforce the invariant
</li>
<li>invariant: rules which have to be maintained whenever data changes
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-5-2" class="outline-4">
<h4 id="sec-2-5-2">Definition</h4>
<div class="outline-text-4" id="text-2-5-2">
<p>
Group of associated objects which are considered one unit with regard to data changes.
Only the root element (entity) has access to such aggregates. It can update the aggregate.
It enforces the invariant.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6">Factories</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li>Encapsultate the process of complex object creation (entity, value object)
</li>
<li>Deal with aggregate
</li>
<li>Enforce the invariant creation
</li>
<li>Atomic creation
</li>
<li>if problem during creation, exception should be raised
</li>
</ul>
</div>
<div id="outline-container-sec-2-6-1" class="outline-4">
<h4 id="sec-2-6-1">Factory method</h4>
<div class="outline-text-4" id="text-2-6-1">
<ul class="org-ul">
<li>contains and hide knowledge necessary to create another object
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-6-2" class="outline-4">
<h4 id="sec-2-6-2">Abstract factory</h4>
</div>
<div id="outline-container-sec-2-6-3" class="outline-4">
<h4 id="sec-2-6-3">Constructor</h4>
<div class="outline-text-4" id="text-2-6-3">
<p>
Use when:
</p>
<ul class="org-ul">
<li>construction is not complicated
</li>
<li>creation of an object does not involve the creation of others and all the attributes are passed via a constructor
</li>
<li>the client is interested in the implementation
</li>
<li>the class is the type. No hierarchy involved.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7">Repositories</h3>
<div class="outline-text-3" id="text-2-7">
<ul class="org-ul">
<li>Deal with object storage
</li>
<li>Access to the storage facility
</li>
<li>Abstract away the storage metadata
</li>
<li>Strategy
</li>
<li>Hold reference to objects
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Refactoring</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>continuous
</li>
<li>code
</li>
<li>but also domain!
</li>
<li>change in model must be reflected in code and vice-versa
</li>
<li>breakthrough
</li>
<li>banish implicit concept, they must be exposed!
</li>
<li>Refactoring must improve and clarify everything
</li>
<li>Reconcile contradictions
</li>
<li>Specification (Constraint)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Preserving model integrity</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Bounded context</h3>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Continuous integration</h3>
<div class="outline-text-3" id="text-4-2">
</div><div id="outline-container-sec-4-2-1" class="outline-4">
<h4 id="sec-4-2-1">Customer/supplier</h4>
</div>
<div id="outline-container-sec-4-2-2" class="outline-4">
<h4 id="sec-4-2-2">Conformist</h4>
</div>
<div id="outline-container-sec-4-2-3" class="outline-4">
<h4 id="sec-4-2-3">Anticorruption layer</h4>
</div>
<div id="outline-container-sec-4-2-4" class="outline-4">
<h4 id="sec-4-2-4">Separate ways</h4>
</div>
<div id="outline-container-sec-4-2-5" class="outline-4">
<h4 id="sec-4-2-5">Open Host service</h4>
</div>
<div id="outline-container-sec-4-2-6" class="outline-4">
<h4 id="sec-4-2-6">distillation</h4>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Antoine R. Dumont</p>
<p class="date">Created: 2014-12-02 Tue 00:24</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.4.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
