<p>
A simple haskell script to add, see or delete entries in a todo file.
</p>

<p>
I find the args dispatch using HOF elegant!
And haskell is fast!
</p>

<div class="org-src-container">

<pre class="src src-haskell">...

todoDelete :: [String] -&gt; IO ()
todoDelete (file:index:_) = del file (read index)

todoSee :: [String] -&gt; IO ()
todoSee (file:_) = view file

todoAdd :: [String] -&gt; IO ()
todoAdd (file:todo) = add file (unwords todo)

dispatch :: [(String, [String] -&gt; IO ())]
dispatch = [("del", todoDelete),
	    ("see", todoSee),
	    ("add", todoAdd)]

main :: IO ()
main = do (command:args) &lt;- getArgs
	  let (Just action) = (lookup command dispatch) in
	    action args
</pre>
</div>


<div id="outline-container-sec-0-1" class="outline-3">
<h3 id="sec-0-1">See</h3>
<div class="outline-text-3" id="text-0-1">
<p>
#+begin<sub>src</sub> sh
tony@dagobah (0,37,) 18:24:38 ~/repo/perso/my-haskell-lab/src/io (master) $ runhaskell todo see ./resources/todo.org
</p>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">I know <b>exactly</b> what you mean.</h2>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Let me tell you why you're here.</h2>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">You're here because you know something.</h2>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">What you know you can't explain, but you feel it.</h2>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">You've felt it your entire life, that there's something wrong with the world.</h2>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">You don't know what it is, but it's there, like a splinter in your mind, driving you mad.</h2>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">It is this feeling that has brought you to me.</h2>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">Do you know what I'm talking about?</h2>
<div class="outline-text-2" id="text-8">
<p>
#+end<sub>src</sub>
</p>
</div>

<div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">Add entry</h3>
<div class="outline-text-3" id="text-8-1">
<p>
#+begin<sub>src</sub> sh
tony@dagobah (0,41,) 18:24:30 ~/repo/perso/my-haskell-lab/src/io (master) $ runhaskell todo add ./resources/todo.org this is yet another todo
tony@dagobah (0,37,) 18:24:38 ~/repo/perso/my-haskell-lab/src/io (master) $ runhaskell todo see ./resources/todo.org
</p>
</div>
</div>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">I know <b>exactly</b> what you mean.</h2>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">Let me tell you why you're here.</h2>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">You're here because you know something.</h2>
</div>

<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12">What you know you can't explain, but you feel it.</h2>
</div>

<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13">You've felt it your entire life, that there's something wrong with the world.</h2>
</div>

<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14">You don't know what it is, but it's there, like a splinter in your mind, driving you mad.</h2>
</div>

<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15">It is this feeling that has brought you to me.</h2>
</div>

<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16">Do you know what I'm talking about?</h2>
</div>
<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17">This is a new todo</h2>
</div>

<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18">This is yet another todo</h2>
<div class="outline-text-2" id="text-18">
<p>
#+end<sub>src</sub>
</p>
</div>

<div id="outline-container-sec-18-1" class="outline-3">
<h3 id="sec-18-1">Remove entry</h3>
<div class="outline-text-3" id="text-18-1">
<p>
#+begin<sub>src</sub> sh
tony@dagobah (0,35,) 18:24:41 ~/repo/perso/my-haskell-lab/src/io (master) $ runhaskell todo del ./resources/todo.org 0
tony@dagobah (0,27,) 18:24:56 ~/repo/perso/my-haskell-lab/src/io (master) $ runhaskell todo del ./resources/todo.org 0
tony@dagobah (0,27,) 18:24:57 ~/repo/perso/my-haskell-lab/src/io (master) $ runhaskell todo see ./resources/todo.org
</p>
</div>
</div>
</div>
<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19">Let me tell you why you're here.</h2>
</div>

<div id="outline-container-sec-20" class="outline-2">
<h2 id="sec-20">You're here because you know something.</h2>
</div>

<div id="outline-container-sec-21" class="outline-2">
<h2 id="sec-21">What you know you can't explain, but you feel it.</h2>
</div>

<div id="outline-container-sec-22" class="outline-2">
<h2 id="sec-22">You've felt it your entire life, that there's something wrong with the world.</h2>
</div>

<div id="outline-container-sec-23" class="outline-2">
<h2 id="sec-23">You don't know what it is, but it's there, like a splinter in your mind, driving you mad.</h2>
</div>

<div id="outline-container-sec-24" class="outline-2">
<h2 id="sec-24">It is this feeling that has brought you to me.</h2>
</div>

<div id="outline-container-sec-25" class="outline-2">
<h2 id="sec-25">Do you know what I'm talking about?</h2>
</div>
<div id="outline-container-sec-26" class="outline-2">
<h2 id="sec-26">This is a new todo</h2>
</div>

<div id="outline-container-sec-27" class="outline-2">
<h2 id="sec-27">This is yet another todo</h2>
<div class="outline-text-2" id="text-27">
<p>
#+end<sub>src</sub>
</p>
</div>
</div>
