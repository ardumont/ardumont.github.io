<blockquote>
<p>
A tic-tac-toe board is represented by a two dimensional vector:
</p>
<ul class="org-ul">
<li>X is represented by :x
</li>
<li>O is represented by :o
</li>
<li>and empty is represented by :e.
</li>
</ul>

<p>
A player wins by placing three Xs or three Os in a horizontal, vertical, or diagonal row.
</p>

<p>
Write a function which analyzes a tic-tac-toe board and returns :x if X has won, :o if O has won, and nil if neither player has won.
</p>
</blockquote>
<p>
problem: <a href="http://www.4clojure.com/problem/73">73</a>
</p>

<p>
In <a href="http://clojure.org/">clojure</a>, we got a real useful tool called <a href="http://blog.jayfields.com/2010/07/clojure-destructuring.html">destructuring</a>.
</p>

<p>
I use it here to extract all values in the board (3x3 matrix so only 9 values).
Then, I compute the 8 possible combinations of success.
</p>

<div class="org-src-container">

<pre class="src src-clojure">(defn ttt [b]
  (letfn [(w [[[a b c]
	       [d e f]
	       [g h i]] p] (or (= p a b c)
			       (= p d e f)
			       (= p g h i)
			       (= p a d g)
			       (= p b e h)
			       (= p c f i)
			       (= p a e i)
			       (= p c e g)))]
    (cond (w b :x) :x
	  (w b :o) :o
	  :else nil)))

(fact
  (ttt [[:e :e :e]
	[:e :e :e]
	[:e :e :e]]) =&gt; nil
  (ttt [[:x :e :o]
	[:x :e :e]
	[:x :e :o]]) =&gt; :x
  (ttt [[:e :x :e]
	[:o :o :o]
	[:x :e :x]]) =&gt; :o
  (ttt [[:x :e :o]
	[:x :x :e]
	[:o :x :o]]) =&gt; nil
  (ttt [[:x :e :e]
	[:o :x :e]
	[:o :e :x]]) =&gt; :x
  (ttt [[:x :e :o]
	[:x :o :e]
	[:o :e :x]]) =&gt; :o
  (ttt [[:x :o :x]
	[:x :o :x]
	[:o :x :o]]) =&gt; nil)
</pre>
</div>

<p>
Tests ok.
</p>

<p>
source: <a href="https://github.com/ardumont/my-4clojure-lab/blob/master/src/my_4clojure_lab/99/core73.clj">73</a>
</p>
